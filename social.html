<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Social | Luke Schwaninger</title>
  <link rel="stylesheet" href="style.css">
</head>


<body>
<header>
  <h1>Latest Updates</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="social.html" aria-current="page">Social</a>
    <a href="books.html">Books</a>
  </nav>
  <div class="hamburger" id="hamburger">
    <span></span><span></span><span></span>
  </div>
  <div class="mobile-nav" id="mobileNav">
    <a href="index.html">Home</a>
    <a href="social.html" aria-current="page">Social</a>
  </div>
</header>

<main class="social-main">
  <section>
    <div class="social-grid">

      <!-- LinkedIn embed -->
      <div class="social-card linkedin-card">
        <iframe
          src="https://www.linkedin.com/embed/feed/update/urn:li:share:7365088325348618241?collapsed=1"
          title="LinkedIn post"
          frameborder="0"
          allowfullscreen
          loading="lazy"
        ></iframe>
      </div>

      <!-- Instagram embed #1 -->
      <div class="social-card">
        <blockquote 
          class="instagram-media" 
          data-instgrm-permalink="https://www.instagram.com/p/DNt-b5E4hrC/"
          data-instgrm-version="14"
          style="background:#fff; border:0; margin:0; padding:0; width:100%;">
          <a href="https://www.instagram.com/p/DNt-b5E4hrC/" target="_blank"></a>
        </blockquote>
      </div>

      <!-- Instagram embed #2 -->
      <div class="social-card">
        <blockquote class="instagram-media"
          data-instgrm-permalink="https://www.instagram.com/p/DHjxbgbSDd7/"
          data-instgrm-version="14"
          style="background:#fff; border:0; margin:0; padding:0; width:100%;">
          <a href="https://www.instagram.com/p/DHjxbgbSDd7/" target="_blank"></a>
        </blockquote>
      </div>

      <!-- Strava embed #1 -->
      <div class="social-card">
        <div class="strava-embed-placeholder" 
             data-embed-type="activity" 
             data-embed-id="15574240396" 
             data-style="standard" 
             data-from-embed="false"></div>
      </div>

      <!-- Strava embed #2 -->
      <div class="social-card">
        <div class="strava-embed-placeholder" 
             data-embed-type="activity" 
             data-embed-id="15507294269" 
             data-style="standard" 
             data-from-embed="false"></div>
      </div>

      <!-- Strava embed #3 -->
      <div class="social-card">
        <div class="strava-embed-placeholder" 
             data-embed-type="activity" 
             data-embed-id="15493102061" 
             data-style="standard" 
             data-from-embed="false"></div>
      </div>
    </div>
  </section>
</main>

<footer>
  <p>&copy; 2025 Luke Schwaninger</p>
  <p>Please refrain from using or reproducing any of the website's content without first requesting my approval.</p>
</footer>

<!-- Scripts -->
<script src="https://strava-embeds.com/embed.js"></script>
<script async src="https://www.instagram.com/embed.js"></script>

<script>
  // ===== Header hide on scroll =====
  let lastScroll = 0;
  const header = document.querySelector("header");
  window.addEventListener("scroll", () => {
    const currentScroll = window.scrollY;
    if (currentScroll > lastScroll && currentScroll > 80) {
      header.classList.add("header-hidden");
    } else {
      header.classList.remove("header-hidden");
    }
    lastScroll = currentScroll;
  });

  // ===== Burger menu =====
  const hamburger = document.getElementById("hamburger");
  const mobileNav = document.getElementById("mobileNav");
  hamburger.addEventListener("click", () => {
    hamburger.classList.toggle("open");
    mobileNav.classList.toggle("show");
  });

  // ===== Mark LinkedIn/Strava iframes as loaded =====
  document.querySelectorAll('.social-card iframe').forEach(frame => {
    frame.addEventListener('load', () => {
      frame.parentElement.classList.add('loaded');
    });
  });

  // ===== Strava observer (wait for auto-injected iframe) =====
  const stravaObserver = new MutationObserver(() => {
    document.querySelectorAll('.strava-embed-placeholder iframe').forEach(frame => {
      if (!frame.dataset.processed) {
        frame.dataset.processed = "true";
        frame.addEventListener('load', () => {
          frame.parentElement.classList.add('loaded');
        });
      }
    });
  });
  stravaObserver.observe(document.body, { childList: true, subtree: true });

  // ===== Instagram embed handling =====
  function processInstagram() {
    if (window.instgrm && window.instgrm.Embeds) {
      window.instgrm.Embeds.process();
    }
  }

  // Run once after window load
  window.addEventListener("load", processInstagram);

  // Re-run if new Instagram blockquotes appear
  const instaObserver = new MutationObserver(() => {
    processInstagram();
  });
  instaObserver.observe(document.body, { childList: true, subtree: true });

  // ===== LinkedIn auto-resize =====
document.querySelectorAll('.linkedin-card iframe').forEach(iframe => {
  iframe.addEventListener('load', () => {
    try {
      // Resize to match LinkedIn's internal content height
      const doc = iframe.contentDocument || iframe.contentWindow.document;
      if (doc && doc.body && doc.body.scrollHeight) {
        iframe.style.height = doc.body.scrollHeight + "px";
      }
    } catch (e) {
      // Cross-origin protection: fallback to fixed height
      iframe.style.height = "550px";
    }
  });
});
</script>

</body>
</html>
